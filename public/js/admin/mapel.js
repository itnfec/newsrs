(()=>{var a=$("#table").DataTable({processing:!0,serverSide:!0,ajax:{url:URL_ADMIN+"/mapel/datatable"},columns:[{data:"index",name:"id"},{data:"kode"},{data:"nama"},{data:"opsi",name:"id"}]}),e=$("#modalTambah");$("#formTambah").on("submit",(function(t){t.preventDefault();var n=new FormData(this);$.post({url:URL_ADMIN+"/mapel",processData:!1,contentType:!1,data:n,success:function(t){$(this).trigger("reset"),e.modal("hide"),Swal.fire("Berhasil","Mata Pelajaran berhasil ditambahkan","success"),a.draw()}})}));var t=$("#modalEdit");$(document).on("click",".btn-edit",(function(){var a=$(this).data();$("#editId").val(a.id),$("#editKode").val(a.kode),$("#editNama").val(a.nama),t.modal("show")})),$("#formEdit").on("submit",(function(e){e.preventDefault();var n=new FormData(this);n.append("_method","PUT"),$.post({url:URL_ADMIN+"/mapel/"+$("#editId").val(),processData:!1,contentType:!1,data:n,success:function(e){Swal.fire("Berhasil","Mata Pelajaran berhasil diperbarui","success"),a.draw(),t.modal("hide")}})})),$(document).on("click",".btn-hapus",(function(){var e=$(this).data();Swal.fire({title:"Hapus Mata Pelajaran?",icon:"question",html:'<div class="alert alert-danger">Menghapus Mapel akan menghapus data launnya yang terkait</div>',showCancelButton:!0,cancelButtonText:"Tidak",confirmButtonText:"Ya, hapus!"}).then((function(t){t.value&&$.ajax({url:URL_ADMIN+"/mapel/"+e.id,type:"DELETE",success:function(e){Swal.fire("Berhasil","Mata Pelajaran berhasil dihapus","success"),a.draw()}})}))}))})();